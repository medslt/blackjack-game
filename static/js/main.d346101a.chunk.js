(this["webpackJsonpblackjack-game"]=this["webpackJsonpblackjack-game"]||[]).push([[0],[,function(e,a,t){e.exports={main:"Main_main__d0wD2",message:"Main_message__2YoB7",btns:"Main_btns__1mLKo",btn:"Main_btn__2YyNL"}},function(e,a,t){e.exports={wallet:"Wallet_wallet__1HNjp",placeBet:"Wallet_placeBet__1CHjm",btns:"Wallet_btns__KkTis",btn:"Wallet_btn__3kvzp"}},,,,,,function(e,a,t){e.exports={card:"Card_card__3F8np",cardRed:"Card_cardRed__1Sh66"}},function(e,a,t){e.exports={handCards:"Hand_handCards__1l6Do"}},function(e,a,t){e.exports={table:"Table_table__3M_gK"}},,,function(e,a,t){e.exports=t(19)},,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),l=t(7),u=t.n(l),s=(t(18),t(11)),o=Object(r.createContext)(),d=function(e){return function(){e({type:"STAND"})}},i=function(e){return function(){e({type:"HIT"})}},m=function(e){return function(a,t){e({type:"UPDATE_GAME",payload:{deck:a,wallet:t}})}},p=function(e){return function(a){e({type:"PLACE_BET",payload:{newCurrentBet:a}})}},f=function(e){return function(a){e({type:"UPDATE_MESSAGE",payload:{message:a}})}},b=t(3),v=function(){if(!n){var e=["\u2666","\u2663","\u2665","\u2660"],a=[2,3,4,5,6,7,8,9,10,"J","Q","K","A"];n=[];for(var t=0;t<a.length;t++)for(var r=0;r<e.length;r++)n.push({number:a[t],suit:e[r]})}return n},E=t(12),g=function(e){var a=Object(E.a)(e),t=Math.floor(Math.random()*a.length),n=a[t];return a.splice(t,1),{randomCard:n,updatedDeck:a}},_=function(e){var a=[];return e.forEach((function(e){"A"===e.number?a.push(e):e.number&&a.unshift(e)})),a.reduce((function(e,a){return"J"===a.number||"Q"===a.number||"K"===a.number?e+10:"A"===a.number?e+11<=21?e+11:e+1:e+a.number}),0)},h=function(e,a){var t=g(a),n=t.randomCard,r=t.updatedDeck,c=JSON.parse(JSON.stringify(e));return c.cards.push(n),c.count=_(c.cards),{dealer:c,updatedDeck:r}},k=function(e){if(e.gameOver)return{message:"Game over! Please start a new game."};var a,t=function(e,a){var t=g(a),n=t.updatedDeck,r=JSON.parse(JSON.stringify(e));for(r.cards.pop(),r.cards.push(t.randomCard),r.count=_(r.cards);r.count<17;){var c=h(r,n);r=c.dealer,n=c.updatedDeck}return{deck:n,dealer:r}}(e.dealer,e.deck),n=t.deck,r=t.dealer,c=e.wallet;if(r.count>21)c=e.wallet+2*e.currentBet,a="Dealer bust! You win!";else{var l=function(e,a){return e.count>a.count?"dealer":e.count<a.count?"player":"push"}(r,e.player);"dealer"===l?a="Dealer wins...":"player"===l?(c+=e.wallet+2*e.currentBet,a="You win!"):(c+=e.currentBet,a="Push.")}return{deck:n,dealer:r,wallet:c,gameOver:!0,message:a}},w=function(e,a){var t=a.payload,n=t.deck,r=t.wallet,c=function(e){var a=g(e),t=g(a.updatedDeck),n=g(t.updatedDeck),r=[a.randomCard,n.randomCard],c=[t.randomCard,{}],l={cards:r,count:_(r)},u={cards:c,count:_(c)};return{updatedDeck:n.updatedDeck,player:l,dealer:u}}(n),l=c.updatedDeck,u=c.player;return{deck:l,dealer:c.dealer,player:u,wallet:r,currentBet:null,gameOver:!1,message:null}},y=function(e,a){switch(a.type){case"STAND":return Object(b.a)({},e,{},k(e));case"HIT":return Object(b.a)({},e,{},function(e){if(e.gameOver)return{message:"Game over! Please start a new game."};if(!e.currentBet)return{message:"Please place bet."};var a=g(e.deck),t=a.randomCard,n=a.updatedDeck,r=JSON.parse(JSON.stringify(e.player));return r.cards.push(t),r.count=_(r.cards),r.count>21?{player:r,gameOver:!0,message:"YOU BUST!"}:{deck:n,player:r}}(e));case"UPDATE_GAME":return Object(b.a)({},e,{},w(0,a));case"PLACE_BET":return Object(b.a)({},e,{},function(e,a){var t=a.payload.newCurrentBet,n=e.wallet;return t>n?{message:"Insufficient funds to bet that amount."}:t%1!==0?{message:"Please bet whole numbers only."}:{wallet:n-t,currentBet:t}}(e,a));case"UPDATE_MESSAGE":var t=a.payload.message;return Object(b.a)({},e,{message:t})}},O=o.Provider,C={deck:[],dealer:null,player:null,wallet:0,currentBet:null,gameOver:!1,message:null},N=function(e){var a=e.children,t=Object(r.useReducer)(y,C),n=Object(s.a)(t,2),l=n[0],u=function(e){return{stand:d(e),hit:i(e),updateGame:m(e),placeBet:p(e),updateMessage:f(dispatchEvent)}}(n[1]);return c.a.createElement(O,{value:{state:l,actions:u}},a)},B=t(2),D=t.n(B),j=Object(r.memo)((function(){var e=Object(r.useRef)(null),a=Object(r.useContext)(o),t=a.state,n=a.actions,l=t.wallet,u=t.currentBet,s=t.gameOver,d=t.deck;return c.a.createElement("div",{className:D.a.wallet},c.a.createElement("p",null,"Wallet: \xa3",l),!u&&c.a.createElement("div",{className:D.a.placeBet},c.a.createElement("input",{type:"text",ref:e}),c.a.createElement("button",{className:D.a.btn,onClick:function(){var a=+e.current.value;n.placeBet(a)}},"Place Bet")),s&&c.a.createElement("div",{className:D.a.btns},c.a.createElement("button",{className:D.a.btn,onClick:function(){if(l>0){var e=d.length<10?v():d;n.updateGame(e,l)}else n.updateMessage("Game over! Please start a new game.")}},"Continue")))})),S=t(8),A=t.n(S),M=Object(r.memo)((function(e){var a=e.number,t=e.suit,n="\u2666"===t||"\u2665"===t?"cardRed":"card",r=a?"".concat(a).concat(t):null;return c.a.createElement("div",{className:A.a[n]},r)})),P=t(9),T=t.n(P),G=function(e){var a=e.cards;return c.a.createElement("div",{className:T.a.handCards},a.map((function(e,a){return c.a.createElement(M,{key:a,number:e.number,suit:e.suit})})))},x=t(10),J=t.n(x),H=function(e){var a=e.player,t=e.dealer;return c.a.createElement("div",{className:J.a.table},c.a.createElement("h3",null,"Dealer's Hand (",t.count,")"),c.a.createElement(G,{cards:t.cards}),c.a.createElement("h3",null,"Your Hand (",a.count,")"),c.a.createElement(G,{cards:a.cards}))},W=t(1),U=t.n(W),Y=Object(r.memo)((function(){var e=Object(r.useContext)(o),a=e.state,t=e.actions,n=a.player,l=a.dealer,u=a.message;Object(r.useEffect)((function(){s()}),[]);var s=function(){var e=v();t.updateGame(e,100)};return null===n?null:c.a.createElement("div",{className:U.a.main},c.a.createElement("h2",{className:U.a.message},u),c.a.createElement("div",{className:U.a.btns},c.a.createElement("button",{className:U.a.btn,onClick:t.hit},"Hit"),c.a.createElement("button",{className:U.a.btn,onClick:t.stand},"Stand"),c.a.createElement("button",{className:U.a.btn,onClick:s},"New Game")),c.a.createElement(j,null),c.a.createElement(H,{player:n,dealer:l}))}));var K=function(){return c.a.createElement(N,null,c.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.d346101a.chunk.js.map